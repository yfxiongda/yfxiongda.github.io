<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Ubuntu20.04初步配置教程</title>
      <link href="2021/05/08/Ubuntu20-04%E5%88%9D%E6%AD%A5%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/"/>
      <url>2021/05/08/Ubuntu20-04%E5%88%9D%E6%AD%A5%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本文主要介绍下<code>Ubuntu20.04</code>在我手上的日常使用，以及一些一本软件的安装，作为大家的参考。</p><p>我的环境：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">black@black-OMEN:~$ neofetch             .-/+oossssoo+/-.               black@black-OMEN         <span class="token variable"><span class="token variable">`</span>:+ssssssssssssssssss+:<span class="token variable">`</span></span>           ----------------       -+ssssssssssssssssssyyssss+-         OS: Ubuntu <span class="token number">20.04</span> LTS x86_64     .ossssssssssssssssssdMMMNysssso.       Host: OMEN by HP Laptop    /ssssssssssshdmmNNmmyNMMMMhssssss/      Kernel: <span class="token number">5.4</span>.0-40-generic   +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: <span class="token number">46</span> mins  /sssssssshNMMMyhhyyyyhmNMMMNhssssssss/    Packages: <span class="token number">1922</span> <span class="token punctuation">(</span>dpkg<span class="token punctuation">)</span>, <span class="token number">11</span> <span class="token punctuation">(</span>s .ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: <span class="token function">bash</span> <span class="token number">5.0</span>.16 +sssshhhyNMMNyssssssssssssyNMMMysssssss+   Resolution: 1920x1080 ossyNMMMNyMMhsssssssssssssshmmmhssssssso   DE: GNOME ossyNMMMNyMMhsssssssssssssshmmmhssssssso   WM: Mutter +sssshhhyNMMNyssssssssssssyNMMMysssssss+   WM Theme: Yaru-dark .ssssssssdMMMNhsssssssssshNMMMdssssssss.   Theme: Yaru-dark <span class="token punctuation">[</span>GTK2/3<span class="token punctuation">]</span>  /sssssssshNMMMyhhyyyyhdNMMMNhssssssss/    Icons: Yaru <span class="token punctuation">[</span>GTK2/3<span class="token punctuation">]</span>   +sssssssssdmydMMMMMMMMddddyssssssss+     Terminal: gnome-terminal    /ssssssssssshdmNNNNmyNMMMMhssssss/      CPU: Intel i5-7300HQ <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> @ <span class="token number">3</span>     .ossssssssssssssssssdMMMNysssso.       GPU: Intel HD Graphics <span class="token number">630</span>       -+sssssssssssssssssyyyssss+-         GPU: NVIDIA GeForce GTX <span class="token number">1050</span>         <span class="token variable"><span class="token variable">`</span>:+ssssssssssssssssss+:<span class="token variable">`</span></span>           Memory: 2699MiB / 11867MiB             .-/+oossssoo+/-.                                                                                                                                      <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><h2 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h2><h3 id="终端"><a href="#终端" class="headerlink" title="终端"></a>终端</h3><blockquote><p>参考：<a href="https://loige.co/random-emoji-in-your-prompt-how-and-why/">A random emoji in your terminal prompt. How and Why!</a></p><p>参考：<a href="https://www.cnblogs.com/himonkey/p/11853487.html#%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93"></a><a href="https://www.cnblogs.com/himonkey/p/11853487.html">Mac 终端窗口配置</a></p></blockquote><p>​    展示下我的终端：</p><p><img src="https://i.loli.net/2021/05/08/sFyWmPgZ65T2Oic.png" alt="我的终端界面"></p><h4 id="展示命令成功与否"><a href="#展示命令成功与否" class="headerlink" title="展示命令成功与否"></a>展示命令成功与否</h4><p>命令执行得正确与否会有不同的表现。编辑代码<code>~/.bashrc</code>直接添加下面的代码：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">function</span> <span class="token function-name function">success_indicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>        <span class="token builtin class-name">echo</span> <span class="token string">"😎"</span>    <span class="token keyword">else</span>        <span class="token builtin class-name">echo</span> <span class="token string">"💩"</span>    <span class="token keyword">fi</span><span class="token punctuation">}</span><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">"\<span class="token variable"><span class="token variable">$(</span>success_indicator<span class="token variable">)</span></span>\[<span class="token entity" title="\e">\e</span>[32;40m\]\u\[<span class="token entity" title="\e">\e</span>[m\]\[<span class="token entity" title="\e">\e</span>[32m\]@\[<span class="token entity" title="\e">\e</span>[m\]\[<span class="token entity" title="\e">\e</span>[32m\]\h\[<span class="token entity" title="\e">\e</span>[m\]:\[<span class="token entity" title="\e">\e</span>[34m\]\W\[<span class="token entity" title="\e">\e</span>[m\]👉 "</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>​    这里还使用了两个工具：<a href="http://bashrcgenerator.com/">.bashrc PS1 generator by Julien Ricard</a> 和 <a href="http://ezprompt.net/">Easy Bash PS1 Generator by Josh Matthews</a></p><h4 id="展示文件夹和文件信息"><a href="#展示文件夹和文件信息" class="headerlink" title="展示文件夹和文件信息"></a>展示文件夹和文件信息</h4><ul><li><p>安装字体</p><p>原有的字体是不能显示这么多字符的。去<a href="https://www.nerdfonts.com/font-downloads">nerdfonts</a>下载，我下载的是<strong>Hack Nerd Font</strong>。安装就行，没必要全部安装。</p><p>终端里面设置字体。</p></li><li><p>安装<code>clolorls</code></p><p>首先需要安装<code>ruby</code>等。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ruby ruby-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>然后：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> gem <span class="token function">install</span> colorls<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>设置别名</p><p><code>vim ~/.bashrc</code>添加下面两行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'colorls -lA --sd --gs --group-directories-first'</span><span class="token builtin class-name">alias</span> <span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'colorls --group-directories-first'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h3 id="耳机杂音解决（Realtek-ALC295）"><a href="#耳机杂音解决（Realtek-ALC295）" class="headerlink" title="耳机杂音解决（Realtek ALC295）"></a>耳机杂音解决（Realtek ALC295）</h3><p>​    这个问题困扰了我好久了，之前装过<code>kali</code>，也出现了这样的情况，当时以为是通病，后来发现原来只有我有此问题。所以说，如果你的声音也出现了问题，可以搜索下自己的声卡型号。</p><p>​    终端输入：<code>sudo alsamixer</code>，回车，可以看到下面的信息：</p><p><img src="https://i.loli.net/2020/07/21/eyqwDLd5obJCrSf.png"></p><p>​    其中的<code>Chip</code>即是你的声卡型号。</p><p>​    我在<a href="https://bugs.launchpad.net/ubuntu/+source/alsa-driver/+bug/1648183">这个网站</a>找到了解决办法。首先安装<code>alsa-tools</code>：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> alsa-tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>然后，在<code>/usr/local/bin</code>下写个脚本：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#! /bin/bash</span>hda-verb /dev/snd/hwC0D0 0x20 SET_COEF_INDEX 0x67hda-verb /dev/snd/hwC0D0 0x20 SET_PROC_COEF 0x3000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>并加权。运行之后即时生效。</p><blockquote><p>**UPDATE: **此问题官方已修复。</p></blockquote><h3 id="设置文件夹为英文"><a href="#设置文件夹为英文" class="headerlink" title="设置文件夹为英文"></a>设置文件夹为英文</h3><p>​    刚装好的系统，如果你设置的语言是中文，那么其在家目录下面的文件夹名称全部都是中文，而我们经常要在终端里面进行切换文件夹等操作，有中文非常不方便，所以这一项是我必操作的步骤。</p><p>​    网上比较流行的一种方法是先将环境切换成英文，然后再切换成中文。特别麻烦，还要重启，也违背了<code>Linux</code>一切皆文件的思想，不知道这种方法怎么流行起来的。下面介绍我的方法</p><ul><li><p>编辑文件<code>user-dirs.dirs</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">black@black-OMEN:~$ <span class="token function">vim</span> ~/.config/user-dirs.dirs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>更改为：</p><p><img src="https://i.loli.net/2020/07/21/UxTCVolPB6DbuA7.png"></p></li></ul><blockquote><p>vim的安装用法可参照我的另一篇文章：<a href="http://bucaike.top/2020/05/29/%e6%88%91%e6%89%93%e5%bc%80%e6%96%b0linux%e7%b3%bb%e7%bb%9f%e7%9a%84%e6%96%b9%e5%bc%8f/">我打开新Linux系统的方式</a></p><p>vim的配置文件<code>.vimrc</code>我推荐是自己备份一下，然后需要的时候直接拷贝过去就行。</p></blockquote><p>此时，此时再直接修改文件夹名称，可以看到文件夹有对应的图标了，这说明映射关系是正确的：</p><p><img src="https://i.loli.net/2020/07/21/ZXc2kwJRuvxY7iE.png"></p><h3 id="设置账号并同步日历等"><a href="#设置账号并同步日历等" class="headerlink" title="设置账号并同步日历等"></a>设置账号并同步日历等</h3><blockquote><p>这个我个人认为很重要，我的日历上面有我的各种日程，各种终端上面，只要登陆了我这个账号，那么日程消息就会同步过去，不会错过重要的日子和人。</p><p>我用的是微软的账户，其他终端如安卓，ios 上面都比较简单，但是<code>Linux</code>上面比较麻烦一点。</p></blockquote><ul><li><p>Microsoft 应用密码</p><p>这一步应该不是必须的，但是我建议你做一下。点击此<a href="https://account.live.com/proofs/AppPassword">链接</a>，得到应用密码。</p><p>如果你没有，那么可以从<a href="https://account.microsoft.com/">微软账户</a>转到“安全性”顶部菜单），更多安全性选项，“创建”新的应用程序密码（页面中间）。</p><p>如果你不能创建，那么是因为你没有设置“双重验证”，关于如何设置双重验证，微软已经给了文档，所以不再赘述。</p></li><li><p>Evolution&amp;Evolution-ews</p><blockquote><p>这里是比较关键的一步。对于Linux用户而言，将Outlook.com日历与Gnome Shell（Gnome 3）结合使用几乎是不可能的任务，这是由于用于与Microsoft通信的EAS（Exchange Active Sync）协议所致。</p><p>现在，使用EWS（Exchange Web服务），将Outlook.com日历（还包括邮件和联系人）集成到Gnome Shell中，很简单，只需一个扩展即可。</p></blockquote><p>我们需要安装Evolution（MS Outlook的Linux替代产品）和Evolution-ews扩展。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> Evolution Evolution-ews<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>登陆账户</p><p>打开“设置” ，“在线账户”，添加账号，<strong>选Microsoft Exchange</strong>（而不是“微软”）。</p><p>在这里，电子邮箱输入你的的电子邮件地址，密码填刚才的 Microsoft 应用密码，展开“自定义”区域，再次输入您的电子邮件地址<strong>（与上面相同）作为用户名</strong>，重要的是输入Outlook.office365.com 作为服务器。然后点击“连接”。</p><p><img src="https://i.loli.net/2020/07/21/V5pl3xvtk2Omnf7.png"></p></li><li><p>设置同步</p><p>现在可以点击你已登录的账户然后选择同步项了：</p><p><img src="https://i.loli.net/2020/07/21/4FuC3gKqiLlzOZs.png"></p></li></ul><h3 id="动态壁纸（24h）"><a href="#动态壁纸（24h）" class="headerlink" title="动态壁纸（24h）"></a>动态壁纸（24h）</h3><blockquote><p>​    这里的动态壁纸，是指的像<code>MacOS</code>里面的<code>24h</code>动态壁纸，壁纸会随着时间的推移而有不同的表现。如果想要将壁纸设置为动画，可以参考下节。</p></blockquote><p><a href="https://technastic.com/macos-mojave-dynamic-wallpaper-on-linux/">参考</a></p><ul><li><p>下载<code>macOS Mojave</code>壁纸</p><p>下载地址：<a href="https://files.rb.gd/mojave_dynamic.zip"><strong>mojave_dynamic.zip</strong></a></p><p>将压缩包里面的内容提取到<code>~/Pictures/wallpapers</code>里，然后将文件夹重命名为<strong>mojave-background</strong>。最后的文件路径将会是：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/home/black/Pictures/wallpapers/mojave-background/├── __MACOSX├── mojave_dynamic_10.jpeg├── mojave_dynamic_11.jpeg├── mojave_dynamic_12.jpeg├── mojave_dynamic_13.jpeg├── mojave_dynamic_14.jpeg├── mojave_dynamic_15.jpeg├── mojave_dynamic_16.jpeg├── mojave_dynamic_1.jpeg├── mojave_dynamic_2.jpeg├── mojave_dynamic_3.jpeg├── mojave_dynamic_4.jpeg├── mojave_dynamic_5.jpeg├── mojave_dynamic_6.jpeg├── mojave_dynamic_7.jpeg├── mojave_dynamic_8.jpeg└── mojave_dynamic_9.jpeg<span class="token number">1</span> directory, <span class="token number">16</span> files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>获取XML脚本</p><p>下载地址：<a href="https://gist.githubusercontent.com/trongthanh/7d632e90687e1bc219e1f3262d337702/raw/8659a5432ad1ace0de3c8062435400db8a68f1cf/mojave.xml"><strong>mojave.xml</strong></a></p><p>在您可以使用脚本之前，您需要在此处进行一些更改。在您选择的文本编辑器中打开xml文件。然后在脚本中查找并用你自己的用户名替换文件中的 <strong>thanh</strong>。例如，我在系统上使用的用户名是<strong>balck</strong>，因此会将文件中每一个<strong>thanh</strong>替换成<strong>black</strong>，完成后，保存。</p></li><li><p>设置<code>macOS Mojave</code>动态壁纸</p><ol><li><p>安装<code>gnome-tweak-tools</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gnome-tweak-tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>终端运行<code>gnome-tweaks</code>，在外观中选择xml文件作为壁纸：</p><p><img src="https://i.loli.net/2020/07/21/5e2aXkIHi7Gzb4Y.png"></p></li></ol></li></ul><h2 id="安装基本软件"><a href="#安装基本软件" class="headerlink" title="安装基本软件"></a>安装基本软件</h2><h3 id="备份软件TimeShift"><a href="#备份软件TimeShift" class="headerlink" title="备份软件TimeShift"></a>备份软件<code>TimeShift</code></h3><p>​    阻止人们使用<code>Linux</code>系统的一个大原因我觉得是怕搞坏，即使在使用了<code>Linux</code>系统几年的我身上也是比较怕，所以，我们需要有良好的备份习惯。</p><p>​    <code>TimeShift</code>这个软件支持GUI，对新手很友好，也支持<strong>增量备份</strong>。下面是这个软件的介绍信息：</p><blockquote><p>DESCRIPTION<br>       timeshift  is a system restore utility which takes snapshots of<br>       the system at regular intervals. These  snapshots  can  be  re‐<br>       stored  at  a later date to undo system changes. Creates incre‐<br>       mental snapshots using rsync or  BTRFS  snapshots  using  BTRFS<br>       tools.</p></blockquote><ul><li><p>安装</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> timeshift<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>之后我们就可以在菜单看到软件了。</p></li><li><p>使用</p><p>打开软件，会有个使用向导，按照步骤走就行。在用户主目录这里，我建议是<strong>Include All Files</strong>。然后就可以开始第一次备份。要注意的是，由于是第增量备份，所以第一次备份时的时间会比较长，以后的每次备份，只会在原有的基础上修改改动的部分。</p><p>点击创建，会自动备份，备份完了大概是这样（我分配的空间较少，所以禁用了自动备份）：</p><p><img src="https://i.loli.net/2020/07/21/vlG7eTEWzVu1RNa.png"></p></li></ul><h2 id="安装deepin-win，QQ，WeChat"><a href="#安装deepin-win，QQ，WeChat" class="headerlink" title="安装deepin-win，QQ，WeChat"></a>安装deepin-win，QQ，WeChat</h2><blockquote><p>国民应用，没办法，不得不装，deepin在这方面走在了前面，有人将deepin-wine移植到了Ubuntu上，项目地址：</p><p><a href="https://github.com/wszqkzqk/deepin-wine-ubuntu">github</a></p><p><a href="https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu">gitee</a></p></blockquote><ul><li><p>安装<code>deepin-wine</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu.git <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> deepin-wine-for-ubuntu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>选择合适于你的安装脚本，加可运行权限，我这里选择的是<code>install_2.8.22.sh</code>，执行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">chmod</span> +x install_2.8.22.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> ./install_2.8.22.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>安装软件</p><p>下载并安装所需要的<code>deepin-wine</code>容器 <em>（建议在终端下使用<code>dpkg -i</code>安装容器，否则容易误报依赖错误）</em></p><ul><li><p>可使用<code>deepin</code>发布的最新版容器安装包：</p><ol><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.qq.im/">QQ</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.qq.office/">TIM</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.qq.im.light/">QQ轻聊版</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.wechat/">微信</a> 如果出现依赖错误，请下载<a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.wechat_2.6.8.65deepin0_i386.deb">这个版本</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.foxmail/">Foxmail</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.baidu.pan/">百度网盘</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.cn.360.yasuo/">360压缩</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.cn.com.winrar/">WinRAR</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.thunderspeed/">迅雷极速版</a></p></li><li><p><a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/deepin.com.taobao.aliclient.qianniu/">千牛卖家工作台</a></p></li></ol><p>其它deepin-wine容器：<a href="https://mirrors.aliyun.com/deepin/pool/non-free/d/">阿里云镜像下载</a></p></li><li><p>若版本不兼容，可选择下载安装以下旧版包文件：</p><ol><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.qq.im_9.1.8deepin0_i386.deb">QQ</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.qq.office_2.0.0deepin4_i386.deb">TIM</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.qq.im.light_7.9.14308deepin8_i386.deb">QQ轻聊版</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.wechat_2.6.8.65deepin0_i386.deb">微信</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.foxmail_7.2deepin3_i386.deb">Foxmail</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.baidu.pan_5.7.3deepin0_i386.deb">百度网盘</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.cn.360.yasuo_4.0.0.1060deepin3_i386.deb">360压缩</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.cn.com.winrar_5.3.0deepin2_i386.deb">WinRAR</a></p></li><li><p><a href="https://gitee.com/wszqkzqk/deepin-wine-containers-for-ubuntu/raw/master/deepin.com.thunderspeed_7.10.35.366deepin18_i386.deb">迅雷极速版</a></p></li></ol></li></ul></li><li><p>手动更改配置（winecfg）</p><p>执行 <code>WINEPREFIX=~/.deepinwine/容器名称 deepin-wine winecfg</code> 即可，也可以用此方法来调整缩放问题</p></li><li><p>解决系统非中文语言环境时软件无法设置为中文</p><p>在/opt/deepinwine/tools/run.sh 中将 WINE_CMD 那一行修改为 WINE_CMD=”LC_ALL=zh_CN.UTF-8 deepin-wine”</p></li><li><p>微信更新问题</p><p>如果出现微信提示跟新问题执行这一条语句即可</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> -qO- https://deepin-wine.i-m.dev/setup.sh <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p><a href="https://blog.diqigan.cn/posts/wine-global-hotkey-problem.html">wine 应用程序全局快捷键无效的解决方案</a></p><ol><li><p>安装 xdotool</p><p>直接在命令行运行以下命令即可:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> --no-install-recommends xdotool<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>编写 xdotool 脚本</p><blockquote><p>思路: Wine 应用在后台无法接收到快捷键状态, 此时借助 xdotool 向 Wine 应用发送模拟按键信息即可.</p></blockquote><p>在合适的位置新建一个脚本文件 “open_wechat.sh”, 写入以下内容:</p><pre class="line-numbers language-none"><code class="language-none">#!/bin/sh#在当前运行的应用中找到名为WeChat.exe的应用程序，并向它发送按键事件"ctrl+alt+W"#WeChat的可执行文件名为WeChat.exe，如果是其它应用程序就修改成其它应用程序的可执行文件名, 应用名称大小写敏感, 一个字母都不能错!xdotool key --window $(xdotool search --limit 1 --all --pid $(pgrep WeChat.exe)) "ctrl+alt+W"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>赋予脚本可执行权限:</p><pre class="line-numbers language-none"><code class="language-none">chmod +x open_wechat.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果此时你的微信正好运行在后台, 执行这个脚本就可以把它召唤到前台. 如果没有, 请检查脚本是否有错误。</p></li><li><p>设置快捷键</p><p>图形界面依次打开 “设置” -&gt; “设备” -&gt; “键盘”, 点击列表最底部的 “+” 号添加自定义快捷键.</p><p><a href="https://camo.githubusercontent.com/23ae69e9c1369dcc18325a989469b499dcf36f64/68747470733a2f2f696d616765732e67697465652e636f6d2f75706c6f6164732f696d616765732f323032302f303131372f3037353134315f34643137666162345f313434323533302e706e67"><img src="https://camo.githubusercontent.com/23ae69e9c1369dcc18325a989469b499dcf36f64/68747470733a2f2f696d616765732e67697465652e636f6d2f75706c6f6164732f696d616765732f323032302f303131372f3037353134315f34643137666162345f313434323533302e706e67" alt="快捷键设置"></a></p><ul><li>名称随便, 填写 “打开微信” 即可;</li></ul><ul><li>命令填写刚才编写的脚本的<strong>全路径</strong>;</li><li>快捷键设置自己想用的快捷键即可, 建议于应用内部快捷键相同;</li><li>最后点击”添加”即可.</li></ul></li></ol></li><li><p>问题记录</p><ol><li><p>微信无法发送图片</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libjpeg62:i386<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Fcitx（常见的就是搜狗）不能输入：</p><ol><li><p>找到wineQQ的安装目录，我的是在：<code>/opt/deepinwine/apps/Deepin-QQ</code>下，有个<code>run.sh</code>，vim编辑，最后一行添加：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#=================================</span><span class="token comment">#搜狗输入法输入中文的问题</span><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">XMODIFIERS</span></span><span class="token operator">=</span><span class="token string">"@im=fcitx"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">GTK_IM_MODULE</span><span class="token operator">=</span><span class="token string">"fcitx"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">QT_IM_MODULE</span><span class="token operator">=</span><span class="token string">"fcitx"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>如果是<code>Gnome</code>平台，可能会出现最小化之后不能再次输入的情况，还需要输入：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gsettings <span class="token builtin class-name">set</span> org.gnome.settings-daemon.plugins.keyboard active <span class="token boolean">false</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在<code>/etc/envirment</code>下添加：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">XMODIFIERS</span></span><span class="token operator">=</span><span class="token string">"@im=fcitx"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">GTK_IM_MODULE</span><span class="token operator">=</span><span class="token string">"fcitx"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">QT_IM_MODULE</span><span class="token operator">=</span><span class="token string">"fcitx"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>同时也在<code>/.profile</code>下加入。</p></li></ol></li></ol></li></ul><h2 id="更改键盘映射"><a href="#更改键盘映射" class="headerlink" title="更改键盘映射"></a>更改键盘映射</h2><p>这里介绍一般方法，并举出一个例子。</p><ol><li><p>找到你需要改键的<code>ketcode</code></p><p>输入命令<code>xev</code>，就能捕捉到一切动作，从中找出<code>keycode</code></p></li><li><p>导出目前使用的键盘映射</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmodmap -pke <span class="token operator">&gt;</span> ~/.Xmodmap<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>修改文件</p><p>我将键盘上的大小写键改成了方向键→，于是编辑文件，首行加上</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">clear</span> Lock<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>把<code>keycode  66</code>改成<code>keycode  66 = Right NoSymbol Right</code></p><p>结尾上：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">add</span> Lock <span class="token operator">=</span> Caps_Lock<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>生效</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmodmap ~/.Xmodmap<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>自动激活</p><p>编辑<code>~/.xinitrc</code></p></li></ol><h2 id="zip解压乱码"><a href="#zip解压乱码" class="headerlink" title="zip解压乱码"></a>zip解压乱码</h2><h3 id="unzip解决方案："><a href="#unzip解决方案：" class="headerlink" title="unzip解决方案："></a>unzip解决方案：</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">unzip</span> -O cp936 ./1.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h2><h3 id="安装zsh的包管理器antigen"><a href="#安装zsh的包管理器antigen" class="headerlink" title="安装zsh的包管理器antigen"></a>安装zsh的包管理器<code>antigen</code></h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> -L git.io/antigen <span class="token operator">&gt;</span> .antigen.zsh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> .zshrc<span class="token comment"># 写入</span><span class="token builtin class-name">source</span> /home/black/Tools/antigen.zsh<span class="token comment"># 加载oh-my-zsh库</span>antigen use oh-my-zsh<span class="token comment"># 加载原版oh-my-zsh中的功能(robbyrussell's oh-my-zsh).</span>antigen bundle <span class="token function">git</span>antigen bundle herokuantigen bundle pipantigen bundle leinantigen bundle command-not-found<span class="token comment"># 语法高亮功能</span>antigen bundle zsh-users/zsh-syntax-highlighting<span class="token comment"># 代码提示功能</span>antigen bundle zsh-users/zsh-autosuggestions<span class="token comment"># 自动补全功能</span>antigen bundle zsh-users/zsh-completions<span class="token comment"># 加载主题</span><span class="token comment">#antigen theme robbyrussell</span>antigen theme romkatv/powerlevel10k<span class="token comment"># 保存更改</span>antigen apply<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="使用别名alias"><a href="#使用别名alias" class="headerlink" title="使用别名alias"></a>使用别名alias</h2><ol><li><p>确保<code>.bashrc</code>中有这一段：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Alias definitions.</span><span class="token comment"># You may want to put all your additions into a separate file like</span><span class="token comment"># ~/.bash_aliases, instead of adding them here directly.</span><span class="token comment"># See /usr/share/doc/bash-doc/examples in the bash-doc package.</span><span class="token keyword">if</span> <span class="token punctuation">[</span> -f ~/.bash_aliases <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token builtin class-name">.</span> ~/.bash_aliases<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>编辑<code>~/.bash_aliases</code></p><blockquote><p>没有就自己创建</p></blockquote><p>比如：写上</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">nvrun</span><span class="token operator">=</span><span class="token string">"__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>检查成功</p></li></ol><blockquote><p>如果你是使用的是Zsh，那么将第一步的代码添加到<code>.zshrc</code>里面，然后执行后面的步骤。</p></blockquote><h2 id="启动时自动使用独显"><a href="#启动时自动使用独显" class="headerlink" title="启动时自动使用独显"></a>启动时自动使用独显</h2><blockquote><p>添加别名已经讲过了</p></blockquote><ol><li><p>添加别名</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">nvrun</span><span class="token operator">=</span><span class="token string">"__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>使用</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nvrun steam<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h2 id="steam-play-玩游戏时使用独显"><a href="#steam-play-玩游戏时使用独显" class="headerlink" title="steam play 玩游戏时使用独显"></a>steam play 玩游戏时使用独显</h2><p>游戏启动项加上<code>WINEDLLOVERRIDES="dxgi=n" %command%</code>这句</p>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 优化 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
